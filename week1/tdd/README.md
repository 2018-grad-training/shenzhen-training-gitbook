# Javascript TDD

* 什么是 TDD
* TDD 的好处 - 强调小步前进、反馈速度、自动化回归测试这三点
* 如何做 TDD
  * 讲三原则，带过即可，「测试先行」和「最小实现」两个点具体放到练习里面去验收；
  * 讲怎么用 JS 测试框架写测试；
  * 讲好测试的特征，带过即可，「三段式」「独立」「不应了解实现」「仅当实现有问题才会挂测试而不应该有依赖」等特征融入到后面练习里来验收；
* 例子演练 I：FizzBuzz - 这步操练到 tasking、测试用例编写、基本的具体实践问题
* 重构 - 红绿循环的一部分，一定会由上一步提到。
  * 讲坏味道。不全讲，提一下《重构》，然后讲一下实际工作中最常用的坏味道即可：重复代码、过长方法、职责过多
  * 什么时候进行重构？识别到坏道时。
  * 重构注意什么？一定要有测试，没测试不叫重构叫重写；只做重构，不要加新功能；
  * 重构的目标是什么？产出整洁代码；易于进行可预见的扩展。重构要基于事实来，不要臆想，扎实地进行合理的需求预测
* 例子演练 II：重构 FizzBuzz？ - 这步操练到重构相关。可以引入一下重构相关的东西。不过，重构分出第二步来讲，会不会给学生一种印象 - 重构不在红绿循环之内？另外是，可以加需求，让他们意识到重复的点在面对需求变更时需要的修改，从而有目的地对变化点进行抽象重构，而不是基于臆想。不过，这样的话，是不是就需要真实的例子？
* 测试金字塔
* stub & mock - 什么时候讲？FizzBuzz 里不会遇到
* 例子演练 III ：POS 机 - 涉及 mock 和 stub
* TDD 的缺点 - 什么场景不适合用 TDD



